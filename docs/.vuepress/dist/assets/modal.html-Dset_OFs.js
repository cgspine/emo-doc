import{_ as s,c as a,a as p,o as t}from"./app-CTIoDS1N.js";const e={};function l(o,n){return t(),a("div",null,n[0]||(n[0]=[p(`<h1 id="浮层" tabindex="-1"><a class="header-anchor" href="#浮层"><span>浮层</span></a></h1><p>一个使用 <code>Jetpack Compose</code> 实现的浮层组件，最大的特色就是不采用 <code>Dialog</code> 或者 <code>PopupWindow</code> 这些子 <code>Window</code> 实现，所以也就没有使用它们的各种坑点。</p><h2 id="依赖引入" tabindex="-1"><a class="header-anchor" href="#依赖引入"><span>依赖引入</span></a></h2><div class="language-kts line-numbers-mode" data-highlighter="prismjs" data-ext="kts" data-title="kts"><pre><code><span class="line"><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;cn.qhplus.emo:modal&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="dialog" tabindex="-1"><a class="header-anchor" href="#dialog"><span>Dialog</span></a></h2><h3 id="简单消息类型" tabindex="-1"><a class="header-anchor" href="#简单消息类型"><span>简单消息类型</span></a></h3><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line">view<span class="token punctuation">.</span><span class="token function">emoDialog</span> <span class="token punctuation">{</span> modal <span class="token operator">-&gt;</span></span>
<span class="line">    <span class="token function">EmoDialogMsg</span><span class="token punctuation">(</span></span>
<span class="line">        modal<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-literal singleline"><span class="token string">&quot;这是标题&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-literal singleline"><span class="token string">&quot;这是一丢丢有趣但是没啥用的内容&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token function">listOf</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token function">EmoModalAction</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;取 消&quot;</span></span><span class="token punctuation">,</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>primary<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                it<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token function">EmoModalAction</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;确 定&quot;</span></span><span class="token punctuation">,</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>primary<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;确定啦!!!&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                it<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="列表类型" tabindex="-1"><a class="header-anchor" href="#列表类型"><span>列表类型</span></a></h3><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line">view<span class="token punctuation">.</span><span class="token function">emoDialog</span> <span class="token punctuation">{</span> modal <span class="token operator">-&gt;</span></span>
<span class="line">    <span class="token function">EmoDialogList</span><span class="token punctuation">(</span>modal<span class="token punctuation">,</span> maxHeight <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">items</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> index <span class="token operator">-&gt;</span></span>
<span class="line">            <span class="token function">Item</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">index <span class="token operator">+</span> <span class="token number">1</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">项&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;你点了第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">index <span class="token operator">+</span> <span class="token number">1</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">项&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="单选类型" tabindex="-1"><a class="header-anchor" href="#单选类型"><span>单选类型</span></a></h3><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line">view<span class="token punctuation">.</span><span class="token function">emoDialog</span> <span class="token punctuation">{</span> modal <span class="token operator">-&gt;</span></span>
<span class="line">    <span class="token keyword">val</span> list <span class="token operator">=</span> remember <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">val</span> items <span class="token operator">=</span> arrayListOf<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">0</span> until <span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            items<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">i</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        items</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// 选中 index</span></span>
<span class="line">    <span class="token keyword">var</span> markIndex <span class="token keyword">by</span> remember <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token function">EmoDialogMarkList</span><span class="token punctuation">(</span></span>
<span class="line">        modal<span class="token punctuation">,</span></span>
<span class="line">        maxHeight <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></span>
<span class="line">        list <span class="token operator">=</span> list<span class="token punctuation">,</span></span>
<span class="line">        markIndex <span class="token operator">=</span> markIndex</span>
<span class="line">    <span class="token punctuation">)</span> <span class="token punctuation">{</span> _<span class="token punctuation">,</span> index <span class="token operator">-&gt;</span></span>
<span class="line">        markIndex <span class="token operator">=</span> index</span>
<span class="line">        view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;你点了第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">index <span class="token operator">+</span> <span class="token number">1</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">项&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="多选类型" tabindex="-1"><a class="header-anchor" href="#多选类型"><span>多选类型</span></a></h3><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line">view<span class="token punctuation">.</span><span class="token function">emoDialog</span> <span class="token punctuation">{</span> modal <span class="token operator">-&gt;</span></span>
<span class="line">    <span class="token keyword">val</span> list <span class="token operator">=</span> remember <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">val</span> items <span class="token operator">=</span> arrayListOf<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">0</span> until <span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            items<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">i</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        items</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// 选中项</span></span>
<span class="line">    <span class="token keyword">val</span> checked <span class="token operator">=</span> remember <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">mutableStateListOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// 不可选项</span></span>
<span class="line">    <span class="token keyword">val</span> disable <span class="token operator">=</span> remember <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">mutableStateListOf</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    Column <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">EmoDialogMutiCheckList</span><span class="token punctuation">(</span></span>
<span class="line">            modal<span class="token punctuation">,</span></span>
<span class="line">            maxHeight <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></span>
<span class="line">            list <span class="token operator">=</span> list<span class="token punctuation">,</span></span>
<span class="line">            checked <span class="token operator">=</span> checked<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            disabled <span class="token operator">=</span> disable<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">)</span> <span class="token punctuation">{</span> _<span class="token punctuation">,</span> index <span class="token operator">-&gt;</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>checked<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                checked<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                checked<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token function">EmoDialogActions</span><span class="token punctuation">(</span></span>
<span class="line">            modal <span class="token operator">=</span> modal<span class="token punctuation">,</span></span>
<span class="line">            actions <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span></span>
<span class="line">                <span class="token function">EmoModalAction</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;取 消&quot;</span></span><span class="token punctuation">,</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>primary<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    it<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token function">EmoModalAction</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;确 定&quot;</span></span><span class="token punctuation">,</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>primary<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;你选择了: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">checked<span class="token punctuation">.</span><span class="token function">joinToString</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;,&quot;</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                    it<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="toast" tabindex="-1"><a class="header-anchor" href="#toast"><span>Toast</span></a></h2><p>这个也没有用系统的 <code>Toast</code> 组件，使用和效果类似，但可以更自定义化</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line">view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;这只是个 Toast!&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 更自定义的写法</span></span>
<span class="line">view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span></span>
<span class="line">    duration<span class="token operator">:</span> Long <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 保留时间</span></span>
<span class="line">    modalHostProvider<span class="token operator">:</span> ModalHostProvider <span class="token operator">=</span> DefaultModalHostProvider<span class="token punctuation">,</span> <span class="token comment">// 承载主题，默认在 id 为 ID_ANDROID_CONTENT 的 view 下</span></span>
<span class="line">    alignment<span class="token operator">:</span> Alignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>BottomCenter<span class="token punctuation">,</span> <span class="token comment">// 显示位置</span></span>
<span class="line">    horEdge<span class="token operator">:</span> Dp <span class="token operator">=</span> DefaultToastHorEdgeProtectionMargin<span class="token punctuation">,</span></span>
<span class="line">    verEdge<span class="token operator">:</span> Dp <span class="token operator">=</span> DefaultToastVerEdgeProtectionMargin<span class="token punctuation">,</span></span>
<span class="line">    radius<span class="token operator">:</span> Dp <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span></span>
<span class="line">    background<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Black<span class="token punctuation">,</span></span>
<span class="line">    enter<span class="token operator">:</span> EnterTransition <span class="token operator">=</span> xxx <span class="token comment">// 进入动画</span></span>
<span class="line">    exit<span class="token operator">:</span> ExitTransition <span class="token operator">=</span> xxx <span class="token comment">// 退出动画</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Compose 内容</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tip" tabindex="-1"><a class="header-anchor" href="#tip"><span>Tip</span></a></h2><p>显示加载中、加载成功、加载失败的阻塞用户操作的浮层</p><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line"><span class="token keyword">val</span> flow <span class="token operator">=</span> MutableStateFlow<span class="token operator">&lt;</span>TipStatus<span class="token operator">&gt;</span><span class="token punctuation">(</span>TipStatus<span class="token punctuation">.</span><span class="token function">Loading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">val</span> tip <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">emoTip</span><span class="token punctuation">(</span>status <span class="token operator">=</span> flow<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 耗时操作</span></span>
<span class="line">    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span></span>
<span class="line">    flow<span class="token punctuation">.</span>value <span class="token operator">=</span> TipStatus<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span></span>
<span class="line">    tip<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="popup" tabindex="-1"><a class="header-anchor" href="#popup"><span>Popup</span></a></h2><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line"><span class="token comment">// 提供点击位置检测功能</span></span>
<span class="line"><span class="token function">ClickPositionCheckerBox</span><span class="token punctuation">(</span></span>
<span class="line">    modifier <span class="token operator">=</span> Modifier</span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>horizontal <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span> vertical <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token function">RoundedCornerShape</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>surfaceVariant<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    onClick <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 显示 popup</span></span>
<span class="line">        view<span class="token punctuation">.</span><span class="token function">emoPopup</span><span class="token punctuation">(</span></span>
<span class="line">            offset <span class="token operator">=</span> it<span class="token punctuation">,</span></span>
<span class="line">            widthCal <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token comment">// 计算 popup 宽度</span></span>
<span class="line">                <span class="token number">200</span><span class="token punctuation">.</span>dp</span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">            background <span class="token operator">=</span> <span class="token punctuation">{</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondaryContainer <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">Text</span><span class="token punctuation">(</span></span>
<span class="line">                text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;This is Popup Content\\nThis is Popup Content&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">                color <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>onSecondaryContainer</span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">Text</span><span class="token punctuation">(</span></span>
<span class="line">        text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;PopUp&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>horizontal <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span> vertical <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="quickaction" tabindex="-1"><a class="header-anchor" href="#quickaction"><span>QuickAction</span></a></h2><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line"><span class="token comment">// 提供点击位置检测功能</span></span>
<span class="line"><span class="token function">ClickPositionCheckerBox</span><span class="token punctuation">(</span></span>
<span class="line">    modifier <span class="token operator">=</span> Modifier</span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>horizontal <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span> vertical <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token function">RoundedCornerShape</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>surfaceVariant<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    onClick <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 显示 quick action</span></span>
<span class="line">        view<span class="token punctuation">.</span><span class="token function">emoQuickAction</span><span class="token punctuation">(</span></span>
<span class="line">            offset <span class="token operator">=</span> it<span class="token punctuation">,</span></span>
<span class="line">            actions <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span></span>
<span class="line">                <span class="token function">QuickAction</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>quick_action_ic_copy<span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;Copy&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token comment">// 点击事件</span></span>
<span class="line">                    view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;What do you want to copy?&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token function">QuickAction</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>quick_action_ic_delete<span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;Delete&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token comment">// 点击事件</span></span>
<span class="line">                    view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;What do you want to delete?&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            actionWidth <span class="token operator">=</span> <span class="token number">48</span><span class="token punctuation">.</span>dp</span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">Text</span><span class="token punctuation">(</span></span>
<span class="line">        text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;Quick Action&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>horizontal <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span> vertical <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="bottomsheet" tabindex="-1"><a class="header-anchor" href="#bottomsheet"><span>BottomSheet</span></a></h2><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line">view<span class="token punctuation">.</span><span class="token function">emoBottomSheet</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">EmoBottomSheetList</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">items</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> index <span class="token operator">-&gt;</span></span>
<span class="line">            <span class="token function">Item</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">index <span class="token operator">+</span> <span class="token number">1</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">项&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                view<span class="token punctuation">.</span><span class="token function">emoToast</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;你点了第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">index <span class="token operator">+</span> <span class="token number">1</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">项&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自定义-modal" tabindex="-1"><a class="header-anchor" href="#自定义-modal"><span>自定义 Modal</span></a></h2><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt" data-title="kt"><pre><code><span class="line"></span>
<span class="line">view<span class="token punctuation">.</span><span class="token function">emoModal</span><span class="token punctuation">(</span></span>
<span class="line">    mask<span class="token operator">:</span> Color <span class="token operator">=</span> DefaultMaskColor<span class="token punctuation">,</span> <span class="token comment">// mask color</span></span>
<span class="line">    systemCancellable<span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 系统返回操作是否可以取消浮层</span></span>
<span class="line">    maskTouchBehavior<span class="token operator">:</span> MaskTouchBehavior <span class="token operator">=</span> MaskTouchBehavior<span class="token punctuation">.</span>Dismiss<span class="token punctuation">,</span> <span class="token comment">// mask 点击行为：穿透/取消浮层/不做响应</span></span>
<span class="line">    uniqueId<span class="token operator">:</span> Long <span class="token operator">=</span> SystemClock<span class="token punctuation">.</span><span class="token function">elapsedRealtimeNanos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 如果相同，会把已存在的浮层 dismiss 掉</span></span>
<span class="line">    modalHostProvider<span class="token operator">:</span> ModalHostProvider <span class="token operator">=</span> DefaultModalHostProvider<span class="token punctuation">,</span></span>
<span class="line">    enter<span class="token operator">:</span> EnterTransition <span class="token operator">=</span> <span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token function">tween</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    exit<span class="token operator">:</span> ExitTransition <span class="token operator">=</span> <span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token function">tween</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">{</span> </span>
<span class="line">    <span class="token comment">// Compose 内容</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>更多信息可查看公众号文章 <a href="https://mp.weixin.qq.com/s?__biz=Mzk0OTMzMjE2OQ==&amp;mid=2247483796&amp;idx=1&amp;sn=189146e50c165b4cc01acdfdae12fb9c&amp;chksm=c358b032f42f3924b408bb34b4129bcd49ef4e80cf57d905539741842920ea31957fc8e284a8&amp;token=1864276121&amp;lang=zh_CN#rd" target="_blank" rel="noopener noreferrer">Android 浮层的重新思考与设计</a></p></blockquote>`,28)]))}const c=s(e,[["render",l],["__file","modal.html.vue"]]),u=JSON.parse('{"path":"/guide/modal.html","title":"浮层","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"依赖引入","slug":"依赖引入","link":"#依赖引入","children":[]},{"level":2,"title":"Dialog","slug":"dialog","link":"#dialog","children":[{"level":3,"title":"简单消息类型","slug":"简单消息类型","link":"#简单消息类型","children":[]},{"level":3,"title":"列表类型","slug":"列表类型","link":"#列表类型","children":[]},{"level":3,"title":"单选类型","slug":"单选类型","link":"#单选类型","children":[]},{"level":3,"title":"多选类型","slug":"多选类型","link":"#多选类型","children":[]}]},{"level":2,"title":"Toast","slug":"toast","link":"#toast","children":[]},{"level":2,"title":"Tip","slug":"tip","link":"#tip","children":[]},{"level":2,"title":"Popup","slug":"popup","link":"#popup","children":[]},{"level":2,"title":"QuickAction","slug":"quickaction","link":"#quickaction","children":[]},{"level":2,"title":"BottomSheet","slug":"bottomsheet","link":"#bottomsheet","children":[]},{"level":2,"title":"自定义 Modal","slug":"自定义-modal","link":"#自定义-modal","children":[]}],"git":{"updatedTime":1692869469000,"contributors":[{"name":"cgspine","email":"cgspine@gmail.com","commits":6}]},"filePathRelative":"guide/modal.md"}');export{c as comp,u as data};
